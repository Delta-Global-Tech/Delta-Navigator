# ğŸš€ Delta Navigator v2.0 - AI Intelligence Platform# ğŸš€ Delta Navigator v2.0 - AI Intelligence Platform



**Plataforma corporativa de Business Intelligence com IA integrada, anÃ¡lises automÃ¡ticas e dashboards executivos.****Plataforma corporativa de Business Intelligence com IA integrada, anÃ¡lises automÃ¡ticas e dashboards executivos.**



[![React](https://img.shields.io/badge/React-18-61DAFB?style=flat&logo=react)](https://reactjs.org/)[![React](https://img.shields.io/badge/React-18-61DAFB?style=flat&logo=react)](https://reactjs.org/)

[![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=flat&logo=typescript)](https://www.typescriptlang.org/)[![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=flat&logo=typescript)](https://www.typescriptlang.org/)

[![Vite](https://img.shields.io/badge/Vite-5-646CFF?style=flat&logo=vite)](https://vitejs.dev/)[![Vite](https://img.shields.io/badge/Vite-5-646CFF?style=flat&logo=vite)](https://vitejs.dev/)

[![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=flat&logo=node.js)](https://nodejs.org/)[![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=flat&logo=node.js)](https://nodejs.org/)

[![Tailwind](https://img.shields.io/badge/Tailwind-3-06B6D4?style=flat&logo=tailwindcss)](https://tailwindcss.com/)[![Tailwind](https://img.shields.io/badge/Tailwind-3-06B6D4?style=flat&logo=tailwindcss)](https://tailwindcss.com/)

[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13+-336791?style=flat&logo=postgresql)](https://www.postgresql.org/)[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13+-336791?style=flat&logo=postgresql)](https://www.postgresql.org/)

[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?style=flat&logo=docker)](https://www.docker.com/)[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?style=flat&logo=docker)](https://www.docker.com/)

[![Status](https://img.shields.io/badge/Status-EstÃ¡vel-brightgreen?style=flat)](https://github.com)[![Status](https://img.shields.io/badge/Status-EstÃ¡vel-brightgreen?style=flat)](https://github.com)



------



## ğŸ“‹ Ãndice RÃ¡pido## ğŸ“‹ Ãndice RÃ¡pido



- [VisÃ£o Geral](#-visÃ£o-geral)- [VisÃ£o Geral](#-visÃ£o-geral)

- [Quick Start](#-quick-start-30-segundos)- [Quick Start](#-quick-start)

- [Arquitetura](#-arquitetura)- [Arquitetura do Sistema](#-arquitetura-do-sistema)

- [Recursos Principais](#-recursos-principais)- [Recursos Principais](#-recursos-principais)

- [25+ Telas](#-25-telas-disponÃ­veis)- [Telas DisponÃ­veis](#-telas-disponÃ­veis)

- [APIs e Endpoints](#-apis-e-endpoints)- [APIs e Endpoints](#-apis-e-endpoints)

- [Troubleshooting](#-troubleshooting)- [Troubleshooting](#-troubleshooting)

- [HistÃ³rico de Fixes](#-histÃ³rico-de-fixes)- [HistÃ³rico de Fixes](#-histÃ³rico-de-fixes-recentes)



------



## ğŸ¯ VisÃ£o Geral## ğŸ¯ VisÃ£o Geral



O **Delta Navigator** Ã© uma plataforma completa de Business Intelligence com **IA integrada** que oferece:O **Delta Navigator** Ã© uma plataforma completa de Business Intelligence com **IA integrada** que oferece anÃ¡lises inteligentes automÃ¡ticas, monitoramento 24/7 e dashboards executivos em tempo real.



### âš¡ Principais Features### âš¡ Principais Recursos



| Feature | DescriÃ§Ã£o | Status |- âœ… **25+ Telas Documentadas** - Cada uma otimizada e testada

|---------|-----------|--------|

| **ğŸ§  AI Intelligence Dashboard** | HistÃ³rico completo de anÃ¡lises IA com exportaÃ§Ã£o | âœ… Live || Feature | DescriÃ§Ã£o | Status |- âœ… **ğŸ§  AI Intelligence Dashboard** - HistÃ³rico completo de anÃ¡lises IA

| **ğŸš¨ Auto-Alert System** | Monitoramento automÃ¡tico com alertas inteligentes | âœ… Live |

| **ğŸ¤– Bot IA Global** | AnÃ¡lises em 25+ pÃ¡ginas com contexto inteligente | âœ… Live ||---------|-----------|--------|- âœ… **ğŸš¨ Auto-Alert System** - Monitoramento automÃ¡tico 24/7

| **ğŸ® GamificaÃ§Ã£o Completa** | XP, badges, ranking, milestones | âœ… Live |

| **ğŸ“Š Dashboard Executivo** | KPIs em tempo real e grÃ¡ficos interativos | âœ… Live || **ğŸ§  AI Intelligence Dashboard** | HistÃ³rico completo de anÃ¡lises IA com exportaÃ§Ã£o | âœ… Live |- âœ… **ğŸ¤– Bot IA Global** - AnÃ¡lises inteligentes em todas as pÃ¡ginas

| **ğŸ“± Interface Responsiva** | Desktop, tablet e mobile | âœ… Live |

| **ğŸ” AutenticaÃ§Ã£o Segura** | Supabase Auth com permissÃµes granulares | âœ… Live || **ğŸš¨ Auto-Alert System** | Monitoramento automÃ¡tico com alertas inteligentes | âœ… Live |- âœ… **ğŸ® GamificaÃ§Ã£o Completa** - Engajamento e produtividade

| **âš¡ Performance Otimizada** | Carregamento rÃ¡pido e cache inteligente | âœ… Live |

| **ğŸ“„ Leitura de Excel** | Fechamento mÃªs com dados financeiros | âœ… Live || **ğŸ¤– Bot IA Global** | AnÃ¡lises em todas as 25+ pÃ¡ginas com contexto | âœ… Live |- âœ… **ğŸ“Š Dashboard Executivo** - KPIs em tempo real



---| **ğŸ® GamificaÃ§Ã£o** | Sistema XP, badges, ranking e milestones | âœ… Completo |- âœ… **ï¿½ AutenticaÃ§Ã£o Segura** - Com Supabase



## ğŸš€ Quick Start (30 Segundos)| **ğŸ“Š Dashboard Executivo** | KPIs em tempo real e grÃ¡ficos interativos | âœ… Completo |- âœ… **ğŸ“± Interface Responsiva** - Desktop e mobile



### 1. Clone e Configure| **25+ Telas** | Funil, Propostas, Cadastral, Financeiro, LicitaÃ§Ãµes | âœ… Completo |- âœ… **âš¡ Performance Otimizada** - Carregamento rÃ¡pido

```bash

git clone git@github.com:Delta-Global-Dados/Delta-Navigator.git| **ğŸ” AutenticaÃ§Ã£o** | Supabase Auth com permissÃµes granulares | âœ… Completo |

cd Delta-Navigator

cp .env.example .env| **ğŸ“± Responsivo** | Desktop, tablet e mobile | âœ… Completo |---

```



### 2. Instale DependÃªncias

```bash---## ğŸŒŸ Features Principais

npm install

```



### 3. Execute## ğŸ“– Ãndice RÃ¡pido## ğŸ“¦ MÃ³dulos do Sistema

```bash

# Todos os serviÃ§os (recomendado)

docker-compose -f docker-compose-simple.yml up -d

- [Recursos Principais](#-recursos-principais)### 1. **ProduÃ§Ã£o & Analytics**

# Verificar status

docker-compose -f docker-compose-simple.yml ps- [Features Novas (v2.0)](#-features-novas-v20)```

```

- [InstalaÃ§Ã£o RÃ¡pida](#-instalaÃ§Ã£o-rÃ¡pida)â”œâ”€â”€ ProducaoAnalyticsSimple.tsx - Dashboard de produÃ§Ã£o

### 4. Acesse

- **Frontend**: http://192.168.8.149 ou http://localhost- [Como Usar](#-como-usar)â”œâ”€â”€ ProducaoNovo.tsx - ProduÃ§Ã£o com novo layout

- **APIs**: Portas 3001-3005 (confira Docker ps)

- [Arquitetura](#-arquitetura)â”œâ”€â”€ ProducaoCompra.tsx - AnÃ¡lise de compras

---

- [Telas DisponÃ­veis](#-telas-disponÃ­veis)â”œâ”€â”€ Funil.tsx - Funil de conversÃ£o

## ğŸ— Arquitetura

- [APIs e Endpoints](#-apis-e-endpoints)â””â”€â”€ Propostas.tsx - GestÃ£o de propostas FGTS

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”- [Troubleshooting](#-troubleshooting)```

â”‚   Frontend (React + Vite)            â”‚

â”‚   http://192.168.8.149:80           â”‚- [Suporte](#-suporte)

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

               â”‚### 2. **Cadastral & Clientes**

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

    â”‚          â”‚          â”‚---```

â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”

â”‚ 3001  â”‚ â”‚ 3002  â”‚ â”‚ 3003-5 â”‚â”œâ”€â”€ Cadastral.tsx - Dashboard de clientes

â”‚SQLSRV â”‚ â”‚ PG    â”‚ â”‚Others  â”‚

â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜## ğŸŒŸ Recursos Principaisâ”œâ”€â”€ CadastralV2.tsx - VersÃ£o otimizada

    â”‚         â”‚         â”‚

    â”‚      â”Œâ”€â”€â”´â”€â”€â”      â”‚â”œâ”€â”€ CadastralV3.tsx - Com mapa geogrÃ¡fico

    â”‚      â”‚     â”‚      â”‚

    â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜### ğŸ“Š Dashboard Executivoâ””â”€â”€ ExtratoRanking.tsx - Ranking por saldo

           â”‚

      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”- **KPIs em Tempo Real** - Total clientes, conversÃµes, faturamento```

      â”‚           â”‚

   PostgreSQL  Supabase- **GrÃ¡ficos Interativos** - Com Recharts e animaÃ§Ãµes

   (192.168.8.149:5432)  (Auth)

```- **Filtros AvanÃ§ados** - Status, perÃ­odo, categoria### 3. **Financeiro**



### 6 ServiÃ§os em Docker- **ExportaÃ§Ã£o** - Excel e PDF```



| ServiÃ§o | Porta | Status | DescriÃ§Ã£o |â”œâ”€â”€ Statement.tsx - Extrato de transaÃ§Ãµes

|---------|-------|--------|-----------|

| Frontend | 80 | âœ… Healthy | Vite + nginx |### ğŸ”€ Funil de ConversÃ£oâ”œâ”€â”€ Faturas.tsx - Gerenciamento de faturas

| Backend Server | 3001 | âœ… Healthy | SQL Server + Excel |

| Postgres Server | 3002 | âœ… Healthy | PostgreSQL API |- **6 Etapas** - Do prÃ©-registro ao finalizadoâ”œâ”€â”€ PosicaoContratosCompleta.tsx - Status de emprÃ©stimos

| Extrato Server | 3003 | âœ… Healthy | Extrato API |

| Contratos Server | 3004 | âœ… Healthy | Contratos API |- **AnÃ¡lise Completa** - MÃ©tricas por etapaâ”œâ”€â”€ Desembolso.tsx - AnÃ¡lise de desembolsos

| Iugu Server | 3005 | âœ… Healthy | Iugu/LicitaÃ§Ãµes |

| PostgreSQL DB | 5432 | âœ… Healthy | Database (192.168.8.149) |- **Taxa de ConversÃ£o** - CÃ¡lculo automÃ¡ticoâ””â”€â”€ ADesembolsar.tsx - PendÃªncias



---- **VisualizaÃ§Ã£o DinÃ¢mica** - AtualizaÃ§Ã£o em tempo real```



## âœ¨ Recursos Principais



### ğŸ§  AI Intelligence Dashboard### ğŸ’° GestÃ£o Financeira### 4. **AdministraÃ§Ã£o**

**HistÃ³rico completo de anÃ¡lises IA com exportaÃ§Ã£o**

- ğŸ“Š 4 estatÃ­sticas principais- **Statement/Extrato** - HistÃ³rico de transaÃ§Ãµes```

- ğŸ” Busca full-text

- ğŸ“‚ Filtro por categoria- **Faturas** - EmissÃ£o e controleâ”œâ”€â”€ BackofficeDeltatype.tsx - GestÃ£o de PIX

- ğŸ“¥ Exportar CSV

- ğŸ—‘ï¸ Deletar anÃ¡lises- **Desembolsos** - AnÃ¡lise de emprÃ©stimosâ”œâ”€â”€ Licitacoes.tsx - LicitaÃ§Ãµes IUGU

- â° Timestamps automÃ¡ticos

- **Comparativos** - Entre perÃ­odosâ”œâ”€â”€ LicitacoesV2.tsx - LicitaÃ§Ãµes v2

**Acesso**: Menu â†’ Financeiro â†’ AI Intelligence

â””â”€â”€ ComparativoDesembolso.tsx - Comparativos

---

### ğŸ‘¤ Cadastral de Clientes```

### ğŸš¨ Auto-Alert System

**Monitoramento automÃ¡tico 24/7**- **Busca AvanÃ§ada** - Por cliente, documento, estado

- ğŸš¨ 5 tipos de anomalias

- ğŸ’¡ RecomendaÃ§Ã£o automÃ¡tica- **Mapa GeogrÃ¡fico** - DistribuiÃ§Ã£o por regiÃ£o### 5. **Tomada de DecisÃ£o**

- ğŸ¨ 4 nÃ­veis de severidade

- âœ… Marcar resolvido/ignorado- **EstatÃ­sticas** - Totalizadores e KPIs```

- ğŸ“Š Filtros por status

- âš™ï¸ Toggle ativar/desativar- **Filtros por Estado** - AnÃ¡lise regionalâ””â”€â”€ TomadaDecisao.tsx - Dashboard estratÃ©gico



**Acesso**: Menu â†’ Financeiro â†’ Auto-Alerts```



---### ğŸ’¼ LicitaÃ§Ãµes (IUGU)



### ğŸ¤– Bot IA Global- **Gerenciamento Completo** - Criar, editar, deletar---

**AnÃ¡lises em 25+ pÃ¡ginas**

- ğŸ“ Identifica pÃ¡gina atual- **Status em Tempo Real** - Ativa, expirada, cancelada

- ğŸ§  Usa dados especÃ­ficos

- ğŸ’¡ 100+ padrÃµes reconhecimento- **IntegraÃ§Ã£o IUGU** - SincronizaÃ§Ã£o automÃ¡tica## ğŸ›  Tecnologias

- ğŸ¯ SugestÃµes contextuais

- ğŸ“Š Field names reais- **Busca e Filtros** - Por nome, status, perÃ­odo

- ğŸ’¬ Respostas detalhadas

### Frontend

**Acesso**: Ãcone chat (bottom-right) em qualquer pÃ¡gina

### ğŸ® GamificaÃ§Ã£o- **React 18** - UI library moderno

---

- **Sistema de XP** - Pontos por aÃ§Ãµes- **TypeScript** - Type safety

### ğŸ® GamificaÃ§Ã£o

**Sistema XP, badges, ranking**- **NÃ­veis e Badges** - ProgressÃ£o visual- **Vite** - Build tool ultra-rÃ¡pido

- ğŸ“ˆ XP por aÃ§Ãµes

- ğŸ… NÃ­veis 1-10- **Ranking Global** - CompetiÃ§Ã£o saudÃ¡vel- **Tailwind CSS** - Utility-first CSS

- ğŸ–ï¸ Badges por conquistas

- ğŸ† Ranking global- **Milestones** - Objetivos com recompensas- **shadcn/ui** - Componentes acessÃ­veis

- ğŸ¯ Milestones com recompensas

- ğŸ“± HUD flutuante- **Delta Assistant** - Chatbot IA inteligente- **React Query** - Data fetching



---- **React Router** - NavegaÃ§Ã£o SPA



### ğŸ“„ Excel (Fechamento MÃªs)---- **Recharts** - GrÃ¡ficos

**LÃª arquivo Excel com dados financeiros**

- ğŸ“ Path: `C:\Users\...\Documents\FINANCEIRA\`- **Framer Motion** - AnimaÃ§Ãµes

- ğŸ“‹ Format: `YYYY-MM.xlsx` (ex: 2025-09.xlsx)

- ğŸ’° Extrai: RECEITA e Despesas## âœ¨ Features Novas (v2.0)

- ğŸ“Š Calcula: Totais e saldo

### Backend

**Exemplo**:

```### ğŸ§  AI Intelligence Dashboard- **Node.js 18+** - Runtime JavaScript

Receita: R$ 126.072,35

Despesas: R$ 283.868,50**Painel dedicado com histÃ³rico completo de anÃ¡lises IA**- **Express** - Framework web

Saldo: -R$ 157.796,15

```- **SQL Server** - Banco propostas



**Acesso**: Menu â†’ Financeiro â†’ Fechamento MÃªs```- **PostgreSQL** - Banco analÃ­tico



---URL: /admin/ai-insights- **Supabase** - Auth + Database



## ğŸ“ 25+ Telas DisponÃ­veisMenu: Sidebar â†’ Financeiro â†’ AI Intelligence



### ğŸ“Š Financeiro### DevOps

Dashboard, Fechamento MÃªs, Statement, Faturas, Desembolso, Comparativo Desembolso, AI Intelligence, Auto-Alerts

Funcionalidades:- **Docker** - ContainerizaÃ§Ã£o

### ğŸ¯ Vendas

Propostas, Funil, LicitaÃ§Ãµes (v1/v2), Propostas Aberturaâœ… ğŸ“Š Dashboard com 4 estatÃ­sticas principais- **Docker Compose** - OrquestraÃ§Ã£o



### ğŸ‘¤ Cadastralâœ… ğŸ” Busca full-text em anÃ¡lises- **Git** - Versionamento

Cadastral (v1/v2/v3), Extrato Ranking, PosiÃ§Ã£o de Contratos

âœ… ğŸ“‚ Filtro por categoria (Financeiro/Vendas/Admin)- **Vercel** - Deploy frontend

### ğŸ’¼ Admin

Backoffice, Tomada de DecisÃ£o, ProduÃ§Ã£o Analytics, ProduÃ§Ã£o Novo, ProduÃ§Ã£o Compraâœ… ğŸ“¥ Exportar em CSV para Excel- **Railway** - Deploy backend



### ğŸ“ˆ AnÃ¡liseâœ… ğŸ—‘ï¸  Deletar anÃ¡lises individuais

ProduÃ§Ã£o Analytics Simples, Funil, Ranking

âœ… â° Timestamps automÃ¡ticos---

---

âœ… ğŸ¨ UI Premium com cores Delta

## ğŸ”Œ APIs e Endpoints

```## âš¡ InstalaÃ§Ã£o RÃ¡pida

### Backend Server (3001) - SQL Server



#### Propostas

```bash### ğŸš¨ Auto-Alert System### 1. Clone o RepositÃ³rio

GET /api/propostas/data              # Lista

GET /api/propostas/data?status=X     # Filtrado**Monitoramento automÃ¡tico 24/7 com alertas inteligentes**```bash

GET /api/propostas/kpis              # KPIs

GET /api/propostas/status            # Statusgit clone git@github.com:Delta-Global-Dados/Delta-Navigator.git

GET /api/propostas/evolucao-diaria   # EvoluÃ§Ã£o

``````cd Delta-Navigator



#### FinanceiroURL: /admin/auto-alerts```

```bash

POST /api/financial/read             # Ler ExcelMenu: Sidebar â†’ Financeiro â†’ Auto-Alerts

Body: { "month": "2025-09" }

Response: { receita, despesas, result }### 2. Configure Ambiente

```

Funcionalidades:```bash

### Postgres Server (3002)

âœ… ğŸš¨ Detecta 5 tipos de anomalias# Frontend

#### Funil

```bashâœ… ğŸ’¡ Cada alerta com recomendaÃ§Ã£o automÃ¡ticacp .env.example .env

GET /api/funil/data                  # Dados

GET /api/funil/kpis                  # KPIsâœ… ğŸ¨ 4 nÃ­veis de severidade (CrÃ­tico/Alto/MÃ©dio/Baixo)

GET /api/funil/status                # Status

```âœ… âœ… Marcar como Resolvido/Ignorado# Backend PostgreSQL



#### ProduÃ§Ã£oâœ… ğŸ“Š Filtros por Severidade e Statuscd postgres-server

```bash

GET /api/producao/bancos             # Bancosâœ… âš™ï¸  Toggle para ativar/desativarcp .env.example .env

GET /api/producao/status-analysis    # AnÃ¡lise

```âœ… ğŸ¯ Status em tempo realcd ..



### Outros ServiÃ§os```



#### Extrato (3003)# Backend Iugu (LicitaÃ§Ãµes)

```bash

GET /api/extrato/data                # HistÃ³rico### ğŸ¤– Bot IA Globalcd iugu-server

GET /api/extrato/total               # Total

```**AnÃ¡lises inteligentes em todas as pÃ¡ginas com contexto**cp .env.example .env



#### Contratos (3004)cd ..

```bash

GET /api/contratos/data              # Dados``````

GET /api/contratos/status            # Status

```Funcionalidades:



#### Iugu (3005)âœ… ğŸ“ Identifica pÃ¡gina atual (PRIMEIRA mensagem)### 3. Instale DependÃªncias

```bash

GET /api/licitacoes                  # Listaâœ… ğŸ§  Usa dados especÃ­ficos da pÃ¡gina```bash

POST /api/licitacoes                 # Criar

PUT /api/licitacoes/:id              # Atualizarâœ… ğŸ’¡ 100+ padrÃµes de reconhecimento de perguntas# Frontend

DELETE /api/licitacoes/:id           # Deletar

```âœ… ğŸ¯ SugestÃµes contextuais por pÃ¡ginanpm install



---âœ… ğŸ“Š Real field names (nÃ£o genÃ©rico)



## âš™ï¸ ConfiguraÃ§Ã£oâœ… ğŸ’¬ Respostas detalhadas com anÃ¡lise# Backends



### .env (Frontend)âœ… ğŸŒ Funciona em 25+ pÃ¡ginascd postgres-server && npm install && cd ..

```env

VITE_SUPABASE_URL=https://seu-projeto.supabase.co```cd iugu-server && npm install && cd ..

VITE_SUPABASE_PUBLISHABLE_KEY=sua_chave

```

VITE_API_SQLSERVER_URL=http://192.168.8.149:3001

VITE_API_POSTGRES_URL=http://192.168.8.149:3002---

VITE_EXTRATO_API_URL=http://192.168.8.149:3003

VITE_API_CONTRATOS_URL=http://192.168.8.149:3004### 4. Execute o Sistema

VITE_API_IUGU_URL=http://192.168.8.149:3005

```## âš¡ InstalaÃ§Ã£o RÃ¡pida```bash



### server/.env# Todos os serviÃ§os

```env

POSTGRES_HOST=192.168.8.149### 1. Clone o RepositÃ³rionpm run dev:all

POSTGRES_PORT=5432

POSTGRES_DATABASE=airflow_treynor```bash

POSTGRES_USER=postgres

POSTGRES_PASSWORD=MinhaSenh@123git clone git@github.com:Delta-Global-Dados/Delta-Navigator.git# Ou individual

PORT=3001

FINANCIAL_PATH=/app/financialcd Delta-Navigatornpm run dev                    # Frontend (porta 3000)

```

```npm run dev:postgres          # API PostgreSQL (porta 3002)

### postgres-server/.env

```envnpm run dev:iugu              # API Iugu (porta 3005)

POSTGRES_HOST=192.168.8.149

POSTGRES_PORT=5432### 2. Configure VariÃ¡veis de Ambiente```

POSTGRES_DATABASE=airflow_treynor

POSTGRES_USER=postgres```bash

POSTGRES_PASSWORD=MinhaSenh@123

PORT=3002cp .env.example .env### 5. Acesse

```

```- **Frontend**: http://localhost:3000

### iugu-server/.env

```env- **API PostgreSQL**: http://localhost:3002

IUGU_API_KEY=sua_chave_iugu

DATABASE_URL=postgresql://user:pass@host:5432/dbEdite `.env`:- **API Iugu**: http://localhost:3005

PORT=3005

``````env



---# Supabase (AutenticaÃ§Ã£o)---



## ğŸ› TroubleshootingVITE_SUPABASE_URL=https://seu-projeto.supabase.co



### âŒ "PÃ¡gina em branco"VITE_SUPABASE_ANON_KEY=sua_chave_publica## ğŸ”§ ConfiguraÃ§Ã£o Detalhada

1. Abra DevTools (F12)

2. Verifique Console para erros

3. Verifique Network tab

4. Limpe cache: Ctrl+Shift+Delete# APIs Backend### Frontend (.env)



### âŒ "API retorna erro"VITE_API_POSTGRES_URL=http://localhost:3002```env

1. Verificar: `docker-compose ps`

2. Testar: `curl http://localhost:3001/health````# Supabase (AutenticaÃ§Ã£o)

3. Checar variÃ¡veis .env

4. Ver logs: `docker-compose logs backend-server`VITE_SUPABASE_URL=https://seu-projeto.supabase.co



### âŒ "Excel nÃ£o carrega"### 3. Instale DependÃªnciasVITE_SUPABASE_ANON_KEY=sua_chave_publica

1. Verificar pasta: `C:\Users\alexsandro.costa\Documents\FINANCEIRA\`

2. Formato: `YYYY-MM.xlsx` (ex: 2025-09.xlsx)```bash

3. PermissÃµes da pasta

4. Tente outro mÃªs via `/api/financial/read`npm install# APIs Backend



### âŒ "Docker cai apÃ³s tempo"```VITE_API_POSTGRES_URL=http://localhost:3002

âœ… **RESOLVIDO**: Sistema tem:

- Pool conexÃµes PostgreSQL com timeoutsVITE_API_IUGU_URL=http://localhost:3005

- Graceful shutdown handlers

- Health checks automÃ¡ticos### 4. Execute o Sistema```

- Memory limits por container (1GB)

- Logging com rotaÃ§Ã£o```bash

- Auto-restart policy

npm run dev### PostgreSQL (postgres-server/.env)

---

``````env

## ğŸ“Š HistÃ³rico de Fixes (Nov 2025)

HOST=10.174.1.117

### ğŸ”´ **Sistema caÃ­a apÃ³s tempo**

### 5. AcessePORT=5432

**Causa**: RequestMonitoring fazia loop infinito

- RequisiÃ§Ã£o interceptada â†’ nova mÃ©trica â†’ nova requisiÃ§Ã£o ğŸ”„- **Frontend**: http://localhost:5173DB=postgres



**SoluÃ§Ã£o**:- **API**: http://localhost:3002DB_USER=postgres

1. âœ… RequestMonitoring desabilitado (`return;`)

2. âœ… RealtimeSync desabilitado (`isRealtimeSyncEnabled = false`)PASSWORD=sua_senha

3. âœ… Pool PostgreSQL com timeouts

4. âœ… Graceful shutdown em SIGTERM/SIGINT---```

5. âœ… Health checks a cada 30s

6. âœ… Memory limits por container

7. âœ… Logging com rotaÃ§Ã£o

## ğŸ“– Como Usar### Iugu (iugu-server/.env)

**Resultado**: âœ… Zero crashes em 24+ horas

```env

---

### Acessar AI Intelligence DashboardIUGU_API_KEY=sua_chave_iugu

### ğŸŸ¡ **Fechamento MÃªs (Excel) retornava 500**

1. **Menu**: Sidebar â†’ Financeiro â†’ AI IntelligenceDATABASE_URL=postgresql://user:pass@host:5432/db

**Causa**:

- Container sem acesso aos arquivos2. **Ou URL**: `/admin/ai-insights`PORT=3005

- URL estÃ¡tica (localhost)

- NÃ£o funcionava em rede remota3. **Funcionalidades**:```



**SoluÃ§Ã£o**:   - ğŸ“Š Veja estatÃ­sticas no topo

1. âœ… Volume mount em docker-compose

2. âœ… Path: `C:\Users\...\FINANCEIRA:/app/financial`   - ğŸ” Busque por palavra-chave### PrÃ©-requisitos

3. âœ… Dynamic URL resolution (`getApiEndpoint()`)

4. âœ… Suporta localhost e 192.168.8.149   - ğŸ“‚ Filtre por categoria- Node.js 18+



**Resultado**: âœ… LÃª Excel corretamente   - ğŸ“¥ Exporte em CSV- npm ou yarn



---   - ğŸ—‘ï¸  Delete insights individuais- Git



### ğŸŸ¢ **Console spam com logs**- PostgreSQL 14+



**Causa**:### Acessar Auto-Alerts- Conta Supabase

- RequestMonitoring logava tudo

- RealtimeSync logava mÃ©tricas1. **Menu**: Sidebar â†’ Financeiro â†’ Auto-Alerts- Conta Iugu (para LicitaÃ§Ãµes)

- 100+ logs por segundo

2. **Ou URL**: `/admin/auto-alerts`

**SoluÃ§Ã£o**:

1. âœ… Comentei console.logs3. **Funcionalidades**:---

2. âœ… Desabilitei logging completamente

   - ğŸ”” Veja alertas ativos

**Resultado**: âœ… Console limpo

   - ğŸ¨ Filtre por severidade## ğŸ— Arquitetura

---

   - âœ… Marque como resolvido

## ğŸ›  Tecnologias

   - â­ï¸  Ignore alertas```

### Frontend

- React 18 + TypeScript 5   - âš™ï¸  Ative/desative sistemaâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

- Vite 5 (build ~18s)

- Tailwind CSS 3â”‚              Frontend (React + Vite)                    â”‚

- shadcn/ui (componentes acessÃ­veis)

- React Query (cache inteligente)### Usar Bot IAâ”‚           Porta: 3000 (Vercel em produÃ§Ã£o)             â”‚

- React Router 6 (navegaÃ§Ã£o SPA)

- Recharts (grÃ¡ficos interativos)1. **Qualquer pÃ¡gina**: Ãcone de chat flutuante (bottom-right)â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- Framer Motion (animaÃ§Ãµes)

2. **Ou tecla de atalho**: Pode variar por pÃ¡gina                      â”‚

### Backend

- Node.js 18+3. **Primeiro**: Bot anuncia em qual pÃ¡gina vocÃª estÃ¡        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

- Express.js

- PostgreSQL 134. **Depois**: FaÃ§a sua pergunta        â”‚             â”‚             â”‚

- SQL Server

- Supabase (Auth + Realtime)5. **Resultado**: AnÃ¡lise contextual com dados reais   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”

- node-postgres driver

- dotenv   â”‚PostgreSQLâ”‚   â”‚ Iugu  â”‚   â”‚ Supabase â”‚



### DevOps---   â”‚API 3002  â”‚   â”‚API 3005   â”‚  Auth    â”‚

- Docker + Docker Compose

- Git (versionamento)   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜

- Vercel (frontend)

- nginx (proxy)## ğŸ— Arquitetura        â”‚             â”‚             â”‚



---   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”



## ğŸ“ˆ Performance```   â”‚  PostgreSQL DB    â”‚    â”‚ Supabase  â”‚



### OtimizaÃ§Ãµesâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  (Funil, Dados)   â”‚    â”‚ (UsuÃ¡rios)â”‚

- âœ… React Query cache

- âœ… Lazy loading de pÃ¡ginasâ”‚              Frontend (React + Vite)                    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- âœ… Code splitting com Vite

- âœ… Memoization em componentesâ”‚           Porta: 5173 (Vercel em produÃ§Ã£o)             â”‚```

- âœ… Debounce em buscas

- âœ… Pool de conexÃµes PostgreSQLâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



### MÃ©tricas                      â”‚### Fluxo de Dados

- **Build**: ~18s

- **Load**: < 2s                â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”1. Frontend faz requisiÃ§Ãµes para backend

- **API Response**: < 200ms

- **TTI**: < 3s                â”‚            â”‚          â”‚2. Backend busca dados nos bancos

- **Bundle**: ~2.5MB (minificado)

           â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”3. Backend retorna JSON formatado

---

           â”‚PostgreSQL â”‚   â”‚Supabaseâ”‚ â”‚ Arquivosâ”‚4. Frontend processa e exibe com React

## ğŸ”’ SeguranÃ§a

           â”‚ API 3002  â”‚   â”‚ Auth   â”‚ â”‚Locais  â”‚

### ImplementaÃ§Ãµes

- âœ… VariÃ¡veis de ambiente protegidas           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜---

- âœ… Arquivo .env no .gitignore

- âœ… AutenticaÃ§Ã£o JWT com Supabase                â”‚            â”‚

- âœ… CORS configurado

- âœ… ValidaÃ§Ã£o de inputs           â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”## ğŸ“ Estrutura do Projeto

- âœ… Queries preparadas (SQL injection prevention)

- âœ… Secrets em plataformas deploy           â”‚PostgreSQLâ”‚  â”‚Supabaseâ”‚



---           â”‚   DB     â”‚  â”‚ Users  â”‚```



## ğŸš€ Deploy           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜Delta-Navigator/



### Docker (Local/VPS)```â”œâ”€â”€ src/

```bash

# Buildâ”‚   â”œâ”€â”€ components/

docker-compose -f docker-compose-simple.yml build

---â”‚   â”‚   â”œâ”€â”€ gamification/          # Sistema de gamificaÃ§Ã£o

# Execute

docker-compose -f docker-compose-simple.yml up -dâ”‚   â”‚   â”œâ”€â”€ layout/                # Layout principal



# Logs## ğŸ“± Telas DisponÃ­veis (25+)â”‚   â”‚   â”œâ”€â”€ ui/                    # Componentes shadcn

docker-compose -f docker-compose-simple.yml logs -f

â”‚   â”‚   â”œâ”€â”€ auth/                  # AutenticaÃ§Ã£o

# Parar

docker-compose -f docker-compose-simple.yml down### Financeiroâ”‚   â”‚   â”œâ”€â”€ backoffice/            # Backoffice PIX

```

- ğŸ“Š **Dashboard** - KPIs executivosâ”‚   â”‚   â””â”€â”€ cadastral/             # Componentes cadastral

### Vercel (Frontend)

```bash- ğŸ“‹ **Statement/Extrato** - HistÃ³rico de transaÃ§Ãµesâ”‚   â”‚

vercel deploy

```- ğŸ“„ **Faturas** - EmissÃ£o e controleâ”‚   â”œâ”€â”€ pages/



### Railway (Backend)- ğŸ“¤ **Desembolso** - AnÃ¡lise de emprÃ©stimosâ”‚   â”‚   â”œâ”€â”€ Dashboard.tsx          # Home

- Conecte repositÃ³rio em railway.app

- Configure variÃ¡veis de ambiente- ğŸ“‰ **Comparativo Desembolso** - AnÃ¡lise comparativaâ”‚   â”‚   â”œâ”€â”€ Funil.tsx              # Funil FGTS

- Deploy automÃ¡tico via Git

â”‚   â”‚   â”œâ”€â”€ Propostas.tsx          # Propostas FGTS

---

### Vendasâ”‚   â”‚   â”œâ”€â”€ Cadastral*.tsx         # Cadastral (v1, v2, v3)

## ğŸ“ Suporte

- ğŸ¯ **Propostas** - GestÃ£o de propostas FGTSâ”‚   â”‚   â”œâ”€â”€ Statement.tsx          # Extrato

### DocumentaÃ§Ã£o

- ğŸ“š Este README (centralizado)- ğŸ”€ **Funil** - ConversÃ£o 6 etapasâ”‚   â”‚   â”œâ”€â”€ Faturas.tsx            # Faturas

- ğŸ”§ [Troubleshooting](#-troubleshooting)

- ğŸ“Š [APIs](#-apis-e-endpoints)- ğŸ“Š **LicitaÃ§Ãµes** - Gerenciamento IUGUâ”‚   â”‚   â”œâ”€â”€ Licitacoes*.tsx        # LicitaÃ§Ãµes



### Contatoâ”‚   â”‚   â”œâ”€â”€ Desembolso.tsx         # Desembolsos

- ğŸ“§ Email: suporte@delta-global.com

- ğŸ’¬ Chat: Discord### Adminâ”‚   â”‚   â”œâ”€â”€ BackofficeDeltatype.tsx # Backoffice

- ğŸ› Issues: GitHub

- ğŸ‘¤ **Cadastral** - Clientes (v1, v2, v3 com mapa)â”‚   â”‚   â”œâ”€â”€ PosicaoContratosCompleta.tsx

### Links

- [React](https://react.dev)- ğŸ—ºï¸ **Extrato Ranking** - Ranking por saldoâ”‚   â”‚   â”œâ”€â”€ ExtratoRanking.tsx

- [TypeScript](https://www.typescriptlang.org/docs/)

- [Tailwind CSS](https://tailwindcss.com)- ğŸ’¼ **Backoffice** - GestÃ£o PIXâ”‚   â”‚   â”œâ”€â”€ TomadaDecisao.tsx      # DecisÃµes

- [Express.js](https://expressjs.com)

- [PostgreSQL](https://www.postgresql.org)- ğŸ“Š **PosiÃ§Ã£o de Contratos** - Status emprÃ©stimosâ”‚   â”‚   â””â”€â”€ NotFound.tsx

- [Docker](https://docs.docker.com)

- ğŸ¯ **Tomada de DecisÃ£o** - Dashboard estratÃ©gicoâ”‚   â”‚

---

â”‚   â”œâ”€â”€ hooks/

## ğŸ“ LicenÃ§a

### InteligÃªncia (Novo!)â”‚   â”‚   â”œâ”€â”€ useAuth.ts             # AutenticaÃ§Ã£o

**Delta Navigator** Â© 2025 Delta Global Dados - Todos os direitos reservados

- ğŸ§  **AI Intelligence** - HistÃ³rico IAâ”‚   â”‚   â”œâ”€â”€ use-gamification.ts    # GamificaÃ§Ã£o

---

- ğŸš¨ **Auto-Alerts** - Monitoramento automÃ¡ticoâ”‚   â”‚   â””â”€â”€ custom hooks

## ğŸ‰ Status

â”‚   â”‚

| Componente | Status |

|-----------|--------|---â”‚   â”œâ”€â”€ providers/

| Frontend | âœ… Live |

| Backend PostgreSQL | âœ… Live |â”‚   â”‚   â”œâ”€â”€ theme-provider.tsx

| Backend SQL Server | âœ… Live |

| GamificaÃ§Ã£o | âœ… Completo |## ğŸ”Œ APIs e Endpointsâ”‚   â”‚   â”œâ”€â”€ sync-provider.tsx

| AI Intelligence | âœ… Completo |

| Auto-Alerts | âœ… Completo |â”‚   â”‚   â””â”€â”€ gamification-provider.tsx

| AutenticaÃ§Ã£o | âœ… Live |

| Database | âœ… Live |### Propostas FGTSâ”‚   â”‚

| Docker | âœ… Stable |

| Deploy | âœ… Configurado |```bashâ”‚   â”œâ”€â”€ lib/



---GET /api/propostas/data              # Lista propostasâ”‚   â”‚   â”œâ”€â”€ api-config.ts          # Config de APIs



**Desenvolvido com â¤ï¸ por Delta Global Dados**GET /api/propostas/kpis              # KPIs totaisâ”‚   â”‚   â””â”€â”€ utilities



**VersÃ£o**: 2.0.0 | **Atualizado**: 12 de Novembro de 2025 | **Status**: âœ… Production ReadyGET /api/propostas/kpis?status=X     # KPIs filtradosâ”‚   â”‚


GET /api/propostas/status            # Status disponÃ­veisâ”‚   â”œâ”€â”€ contexts/

GET /api/propostas/evolucao-diaria   # EvoluÃ§Ã£o por diaâ”‚   â”‚   â””â”€â”€ SidebarContext.tsx

```â”‚   â”‚

â”‚   â”œâ”€â”€ App.tsx                    # Rotas principais

### Funil de ConversÃ£oâ”‚   â”œâ”€â”€ main.tsx

```bashâ”‚   â””â”€â”€ index.css

GET /api/funil/data                  # Dados do funilâ”‚

GET /api/funil/kpis                  # KPIs funilâ”œâ”€â”€ postgres-server/

GET /api/funil/steps                 # 6 etapasâ”‚   â”œâ”€â”€ server.js                  # API PostgreSQL

```â”‚   â”œâ”€â”€ package.json

â”‚   â””â”€â”€ .env

### LicitaÃ§Ãµesâ”‚

```bashâ”œâ”€â”€ iugu-server/

GET /api/licitacoes                  # Listaâ”‚   â”œâ”€â”€ server.js                  # API Iugu

POST /api/licitacoes                 # Criarâ”‚   â”œâ”€â”€ package.json

PUT /api/licitacoes/:id              # Atualizarâ”‚   â””â”€â”€ .env

DELETE /api/licitacoes/:id           # Deletarâ”‚

```â”œâ”€â”€ public/

â”‚   â””â”€â”€ Assets estÃ¡ticos

---â”‚

â”œâ”€â”€ package.json

## ğŸ› Troubleshootingâ”œâ”€â”€ vite.config.ts

â”œâ”€â”€ tailwind.config.ts

### Problema: "PÃ¡gina em branco"â”œâ”€â”€ tsconfig.json

**SoluÃ§Ã£o**: â””â”€â”€ README.md (Este arquivo)

1. Abra DevTools (F12)```

2. Verifique aba Console para erros

3. Verifique Network para requisiÃ§Ãµes falhadas---



### Problema: "API retorna erro"## ğŸ”Œ APIs e Endpoints

**SoluÃ§Ã£o**:

1. Verifique se postgres-server estÃ¡ rodando (porta 3002)### PostgreSQL (Porta 3002)

2. Verifique conexÃ£o com banco PostgreSQL

3. Verifique variÃ¡veis de ambiente (.env)#### Propostas FGTS

```bash

### Problema: "Bot IA nÃ£o funciona"# Dados das propostas

**SoluÃ§Ã£o**:GET /api/propostas/data

1. Verifique se backend estÃ¡ rodandoGET /api/propostas/data?status=FINALIZADO

2. Verifique se vocÃª estÃ¡ em uma pÃ¡gina suportadaGET /api/propostas/data?data_inicio=2025-07-07&data_fim=2025-07-10

3. Verifique console para erros

# KPIs

### Problema: "Alertas nÃ£o carregam"GET /api/propostas/kpis

**SoluÃ§Ã£o**:GET /api/propostas/kpis?status=FINALIZADO

1. Abra `/admin/auto-alerts`

2. Verifique se dados mockados aparecem# Status disponÃ­veis

3. Quando conectar ao banco, alertas serÃ£o reaisGET /api/propostas/status



### Verificar APIs# EvoluÃ§Ã£o diÃ¡ria

```bashGET /api/propostas/evolucao-diaria

# Test PostgreSQL```

curl http://localhost:3002/api/propostas/kpis

#### Funil de ConversÃ£o

# Test Frontend```bash

npm run dev# Funnel analytics

# Abra http://localhost:5173GET /api/funil/data

```GET /api/funil/kpis



---# Steps

GET /api/funil/steps

## ğŸš€ Deploy```



### Vercel (Frontend)#### LicitaÃ§Ãµes

```bash```bash

vercel deploy# Lista

```GET /api/licitacoes



### Railway (Backend)# Criar

1. Conecte repositÃ³rio no railway.appPOST /api/licitacoes

2. Configure variÃ¡veis de ambienteContent-Type: application/json

3. Deploy automÃ¡tico via Git{

  "name": "LicitaÃ§Ã£o X",

### Docker  "amount": 50000,

```bash  "status": "ativa"

docker-compose up -d}

```

# Atualizar

---PUT /api/licitacoes/:id



## ğŸ›  Tecnologias# Deletar

DELETE /api/licitacoes/:id

### Frontend```

- **React 18** - UI moderna

- **TypeScript** - Type safety### Iugu (Porta 3005)

- **Vite** - Build rÃ¡pido

- **Tailwind CSS** - Styling#### CobranÃ§a

- **Shadcn/ui** - Componentes```bash

- **React Query** - Data fetching# Criar cobranÃ§a

- **Recharts** - GrÃ¡ficosPOST /api/charges

- **Framer Motion** - AnimaÃ§Ãµes{

  "amount": 1000,

### Backend  "payer": {...}

- **Node.js** - Runtime}

- **Express** - Framework

- **PostgreSQL** - Database# Listar

- **Supabase** - AuthGET /api/charges

```

---

### Supabase Auth

## ğŸ“Š EstatÃ­sticas```bash

# Realtime updates configurado

```subscribe('propostas_channel')

â”œâ”€â”€ Linhas de CÃ³digo: 50.000+```

â”œâ”€â”€ Componentes React: 50+

â”œâ”€â”€ Telas: 25+---

â”œâ”€â”€ PÃ¡ginas Admin: 2 (novas!)

â”œâ”€â”€ Endpoints API: 20+## ğŸ® GamificaÃ§Ã£o

â”œâ”€â”€ Build Time: ~18s

â””â”€â”€ Status: âœ… PRODUCTION READY### Features Implementadas

```

#### 1. Sistema de XP

---```typescript

// Em qualquer pÃ¡gina

## ğŸ“ Suporteimport { usePageXP } from '@/components/gamification';



- ğŸ“š **DocumentaÃ§Ã£o**: Veja arquivos `.md` no projetoexport default function MinhaPage() {

- ğŸ› **Issues**: GitHub issues  usePageXP('page_visit');  // +10 XP por visita

- ğŸ“§ **Email**: suporte@delta-global.com  // ...

}

---```



## ğŸ“ LicenÃ§a#### 2. NÃ­veis e Badges

- **NÃ­vel 1-10**: Iniciante, Exploradores, etc.

Todos os direitos reservados Â© 2025 Delta Global Dados- **Badges**: Por aÃ§Ãµes (primeiro login, 100 conversÃµes, etc.)

- **Milestones**: Objetivos semanais

---

#### 3. Ranking Global

## ğŸ‰ Status- **Leaderboard**: Top 10 usuÃ¡rios

- **CompetiÃ§Ã£o**: Semanal e mensal

| Componente | Status |- **Recompensas**: XP bonus

|-----------|--------|

| Frontend | âœ… Live |#### 4. Delta Assistant

| API PostgreSQL | âœ… Live |- **Chatbot IA**: Respostas inteligentes

| GamificaÃ§Ã£o | âœ… Completo |- **SugestÃµes**: Baseadas em comportamento

| AI Intelligence | âœ… Novo! |- **NotificaÃ§Ãµes**: Achados e alerts

| Auto-Alerts | âœ… Novo! |

| Deploy | âœ… Configurado |### Setup RÃ¡pido

1. JÃ¡ estÃ¡ integrado no App.tsx

---2. Use em qualquer pÃ¡gina com `usePageXP('event_name')`

3. Veja HUD flutuante no canto inferior direito

**Desenvolvido com â¤ï¸ pela equipe Delta Global Dados**  

**VersÃ£o**: 2.0.0 | **Atualizado**: Nov 2025 | **Status**: Production Ready âœ…---


## ğŸš€ Deploy

### Frontend (Vercel)
```bash
# AutomÃ¡tico via Git
git push origin main

# Manual
vercel deploy
```

### Backend (Railway)
```bash
# Conecte seu repositÃ³rio
# Railway detecta Node.js e faz deploy automÃ¡tico
```

### Docker (Completo)
```bash
# Build
docker-compose build

# Execute
docker-compose up -d

# Logs
docker-compose logs -f

# Parar
docker-compose down
```

---

## ğŸ”’ SeguranÃ§a

### AutenticaÃ§Ã£o
- âœ… Supabase Auth (JWT)
- âœ… Protected Routes
- âœ… Session Persistente
- âœ… Refresh Token automÃ¡tico

### VariÃ¡veis SensÃ­veis
- âœ… Nunca commit em .env
- âœ… Use .env.example como template
- âœ… Deploy: usar secrets das plataformas

### CORS
- âœ… Configurado em todos os backends
- âœ… Permite requests do frontend

### Database
- âœ… Queries preparadas
- âœ… Sem SQL injection
- âœ… ValidaÃ§Ã£o de inputs

---

## ğŸ“Š Telas DisponÃ­veis

### Dashboard (/)
- KPIs em tempo real
- GrÃ¡ficos de conversÃ£o
- Status dos usuÃ¡rios

### Funil (/funil)
- 6 etapas do pipeline
- Filtros por status/produto
- MÃ©tricas de conversÃ£o

### Propostas (/propostas)
- Tabela com busca
- GrÃ¡fico de evoluÃ§Ã£o
- KPIs do FGTS

### Cadastral (/cadastral, /cadastral-v2, /cadastral-v3)
- Mapa geogrÃ¡fico
- Tabela de clientes
- EstatÃ­sticas por estado

### Extrato (/extrato)
- HistÃ³rico de transaÃ§Ãµes
- Filtros por perÃ­odo
- ExportaÃ§Ã£o Excel

### Faturas (/faturas)
- Lista de faturas
- Status de pagamento
- GrÃ¡ficos de faturamento

### LicitaÃ§Ãµes (/licitacoes, /licitacoes-v2)
- GestÃ£o completa
- Status em tempo real
- IntegraÃ§Ã£o com Iugu

### Backoffice (/backoffice)
- GestÃ£o de limite PIX
- SolicitaÃ§Ãµes pendentes
- HistÃ³rico de transaÃ§Ãµes

### E mais...
- Statement (extrato)
- Desembolso (emprÃ©stimos)
- Tomada de DecisÃ£o (estratÃ©gia)
- Ranking (gamificaÃ§Ã£o)
- E 13 outras telas!

---

## ğŸ› Troubleshooting

### Problema: "useGamification must be used within GamificationProvider"
**SoluÃ§Ã£o**: O GamificationProvider estÃ¡ em App.tsx. Verifique se a pÃ¡gina estÃ¡ dentro das rotas.

### Problema: "API retorna 500"
**SoluÃ§Ã£o**: Verifique as variÃ¡veis de ambiente (.env) e se os bancos de dados estÃ£o conectados.

### Problema: "CORS Error"
**SoluÃ§Ã£o**: Verifique `api-config.ts` e o cors() no backend.

### Problema: "Dados nÃ£o carregam"
**SoluÃ§Ã£o**: 
1. Verifique se postgres-server estÃ¡ rodando (porta 3002)
2. Verifique conexÃ£o com o banco PostgreSQL
3. Veja os logs do terminal

### Problema: "PÃ¡gina fica azul/em branco"
**SoluÃ§Ã£o**:
1. Abra DevTools (F12)
2. Veja a aba Console para erros
3. Verifique as requisiÃ§Ãµes na aba Network

### Verificar APIs
```bash
# Test PostgreSQL
curl http://localhost:3002/api/test

# Test Iugu
curl http://localhost:3005/api/test

# Test Propostas
curl http://localhost:3002/api/propostas/kpis
```

---

## ğŸ“ˆ Performance

### OtimizaÃ§Ãµes Implementadas
- âœ… React Query para cache inteligente
- âœ… Lazy loading de pÃ¡ginas
- âœ… Code splitting com Vite
- âœ… Memoization em componentes
- âœ… Debounce em buscas

### MÃ©tricas
- **Frontend Load**: < 2s
- **API Response**: < 200ms
- **Time to Interactive**: < 3s

---

## ğŸ¤ ContribuiÃ§Ã£o

### Como Contribuir
1. FaÃ§a um fork
2. Crie uma branch (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### PadrÃµes de CÃ³digo
- TypeScript obrigatÃ³rio
- Componentes funcionais com hooks
- NomeaÃ§Ã£o em PascalCase para componentes
- NomeaÃ§Ã£o em camelCase para funÃ§Ãµes

---

## ğŸ“ Suporte

### DocumentaÃ§Ã£o
- ğŸ“š [Guias RÃ¡pidos](#-instalaÃ§Ã£o-rÃ¡pida)
- ğŸ”§ [Troubleshooting](#-troubleshooting)
- ğŸ—ï¸ [Arquitetura](#-arquitetura)

### Contato
- ğŸ“§ Email: suporte@delta-global.com
- ğŸ’¬ Chat: Discord (convite no projeto)
- ğŸ› Issues: GitHub issues

### Links Ãšteis
- [React Documentation](https://react.dev)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [Tailwind CSS](https://tailwindcss.com)
- [Express.js](https://expressjs.com)
- [PostgreSQL](https://www.postgresql.org)
- [Supabase](https://supabase.com)

---

## ğŸ“ LicenÃ§a

Projeto Delta Navigator - Todos os direitos reservados Â©2025 Delta Global Dados

---

## ğŸ‰ Status do Projeto

| Item | Status |
|------|--------|
| Frontend | âœ… Completo |
| Backend PostgreSQL | âœ… Completo |
| Backend Iugu | âœ… Completo |
| GamificaÃ§Ã£o | âœ… Completo |
| AutenticaÃ§Ã£o | âœ… Completo |
| Testes | âœ… Em ProduÃ§Ã£o |
| Deploy | âœ… Configurado |
| DocumentaÃ§Ã£o | âœ… Centralizada |

---

**VersÃ£o**: 2.0.0  
**Ãšltima AtualizaÃ§Ã£o**: 31 de Outubro de 2025  
**Mantido por**: Delta Global Dados Team

## ğŸ¯ Sobre o Projeto

O **Delta Navigator** Ã© uma plataforma completa de Business Intelligence desenvolvida para anÃ¡lise avanÃ§ada de dados empresariais, oferecendo insights em tempo real atravÃ©s de dashboards interativos e mÃ©tricas de conversÃ£o.

### ğŸ® **Demo Funcionalidades**
- âœ… **Dashboard Executivo** com KPIs em tempo real
- âœ… **Funil de ConversÃ£o** com anÃ¡lise completa do pipeline
- âœ… **Sistema de AutenticaÃ§Ã£o** seguro com Supabase
- âœ… **Filtros AvanÃ§ados** por status, produto e perÃ­odo
- âœ… **ExportaÃ§Ã£o para Excel** de relatÃ³rios
- âœ… **Interface Responsiva** para desktop e mobile

## ğŸŒŸ Funcionalidades Principais

### ğŸ“Š **Dashboard Executivo**
- **Total de Clientes**: Contagem geral de leads/prospects
- **FinalizaÃ§Ãµes**: Propostas com status FINALIZADO
- **Taxa de ConversÃ£o**: Percentual de conversÃ£o do funil
- **GrÃ¡ficos Interativos**: VisualizaÃ§Ãµes com Recharts

### ğŸ”€ **Funil de ConversÃ£o**
- **6 Etapas do Pipeline**:
  1. Inicio
  2. Proposta Executivo
  3. Envio Proposta
  4. Retorno Proposta
  5. Contato Cliente
  6. Finalizado
- **Filtros DinÃ¢micos**: Status, produto, perÃ­odo
- **MÃ©tricas Detalhadas**: ConversÃ£o por etapa

### ğŸ” **AutenticaÃ§Ã£o Segura**
- **Login/Registro** com Supabase Auth
- **ProteÃ§Ã£o de Rotas** com ProtectedRoute
- **SessÃ£o Persistente** automÃ¡tica
- **ConfirmaÃ§Ã£o por E-mail** opcional

## ğŸ›  Tecnologias

### Frontend
- **React 18** + **TypeScript** - Base sÃ³lida e tipada
- **Vite** - Build tool ultra-rÃ¡pido  
- **Tailwind CSS** + **shadcn/ui** - Design system moderno
- **React Query** - Cache inteligente de dados
- **React Router** - NavegaÃ§Ã£o SPA
- **Recharts** - GrÃ¡ficos interativos
- **React Hook Form** - FormulÃ¡rios otimizados

### Backend
- **Node.js** + **Express** - APIs RESTful
- **SQL Server** - Banco principal (propostas/clientes)
- **PostgreSQL** - Banco analÃ­tico (funil/mÃ©tricas)
- **Supabase** - AutenticaÃ§Ã£o e backend services
- **dotenv** - Gerenciamento de configuraÃ§Ãµes

### DevOps & Deploy
- **Docker** - ContainerizaÃ§Ã£o
- **Vercel** - Deploy frontend
- **Railway** - Deploy backend
- **Git** - Controle de versÃ£o

## âš¡ ConfiguraÃ§Ã£o RÃ¡pida

### 1. Clone o RepositÃ³rio
```bash
git clone git@github.com:Delta-Global-Dados/Delta-Navigator.git
cd Delta-Navigator
```

### 2. Configure as VariÃ¡veis de Ambiente

#### Frontend (raiz do projeto)
```bash
cp .env.example .env
```

Edite `.env`:
```env
# Supabase
VITE_SUPABASE_URL=sua_url_supabase
VITE_SUPABASE_ANON_KEY=sua_chave_supabase

# APIs Backend
VITE_API_SQL_URL=http://localhost:3001
VITE_API_POSTGRES_URL=http://localhost:3002
```

#### Backend PostgreSQL
```bash
cd postgres-server
cp .env.example .env
```

Edite `postgres-server/.env`:
```env
HOST=seu_host_postgres
PORT=5432
DB=seu_banco_postgres
DB_USER=seu_usuario_postgres
PASSWORD=sua_senha_postgres
```

#### Backend SQL Server
```bash
cd server
cp .env.example .env
```

Edite `server/.env`:
```env
SQLSERVER_HOST=seu_host_sqlserver
SQLSERVER_PORT=1433
SQLSERVER_DATABASE=seu_banco_sqlserver
SQLSERVER_USER=seu_usuario_sqlserver
SQLSERVER_PASSWORD=sua_senha_sqlserver
```

### 3. Instale as DependÃªncias
```bash
# Frontend
npm install

# Backend PostgreSQL
cd postgres-server && npm install && cd ..

# Backend SQL Server  
cd server && npm install && cd ..
```

### 4. Execute o Sistema
```bash
# Todos os serviÃ§os simultaneamente
npm run dev:all

# Ou individualmente:
npm run dev                    # Frontend (porta 8080)
npm run dev:postgres          # API PostgreSQL (porta 3002)
npm run dev:sqlserver         # API SQL Server (porta 3001)
```

### 5. Acesse o Sistema
- **Frontend**: http://localhost:8080
- **API PostgreSQL**: http://localhost:3002
- **API SQL Server**: http://localhost:3001

## ğŸ“¦ InstalaÃ§Ã£o

### PrÃ©-requisitos
- **Node.js 18+**
- **npm** ou **yarn**
- **SQL Server** (com dados de propostas)
- **PostgreSQL** (com dados do funil)
- **Conta Supabase** (para autenticaÃ§Ã£o)

### Comandos de InstalaÃ§Ã£o Completa
```bash
# 1. Clone o repositÃ³rio
git clone git@github.com:Delta-Global-Dados/Delta-Navigator.git
cd Delta-Navigator

# 2. Instale todas as dependÃªncias
npm install
cd postgres-server && npm install && cd ..
cd server && npm install && cd ..

# 3. Configure os arquivos .env (veja seÃ§Ã£o anterior)

# 4. Execute o sistema
npm run dev:all
```

## ğŸ—„ Banco de Dados

### Estrutura dos Bancos

#### SQL Server (Propostas - Porta 3001)
- **Tabela**: `propostas`
- **Finalidade**: Dados de propostas e clientes
- **Campos principais**: `id`, `cliente`, `status`, `valor`, `data_criacao`

#### PostgreSQL (Funil - Porta 3002)
- **Tabela**: `funil_conversao`
- **Finalidade**: Dados do pipeline de conversÃ£o
- **Campos principais**: `id`, `etapa`, `cliente_id`, `status`, `data_etapa`

### ConfiguraÃ§Ã£o dos Bancos
```sql
-- SQL Server: Criar tabela propostas (exemplo)
CREATE TABLE propostas (
    id INT IDENTITY(1,1) PRIMARY KEY,
    cliente NVARCHAR(255),
    status NVARCHAR(50),
    valor DECIMAL(15,2),
    data_criacao DATETIME DEFAULT GETDATE()
);

-- PostgreSQL: Criar tabela funil_conversao (exemplo)
CREATE TABLE funil_conversao (
    id SERIAL PRIMARY KEY,
    etapa INTEGER,
    cliente_id INTEGER,
    status VARCHAR(50),
    data_etapa TIMESTAMP DEFAULT NOW()
);
```

## ğŸ— Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Frontend (React + Vite)               â”‚
â”‚                     Porta: 8080                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   API SQL Server  â”‚   â”‚  API PostgreSQL  â”‚
    â”‚    Porta: 3001    â”‚   â”‚   Porta: 3002    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    SQL Server     â”‚   â”‚   PostgreSQL     â”‚
    â”‚    (Propostas)    â”‚   â”‚     (Funil)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fluxo de Dados
1. **Frontend** faz requisiÃ§Ãµes para ambas APIs
2. **API SQL Server** busca dados de propostas/clientes
3. **API PostgreSQL** busca dados do funil de conversÃ£o
4. **Frontend** combina dados e exibe dashboards

## ğŸš€ Deploy

### OpÃ§Ãµes de Deploy

| Plataforma | Tipo | Tempo | Complexidade |
|------------|------|-------|--------------|
| **Vercel** | Frontend | 5 min | â­ |
| **Railway** | Full-Stack | 10 min | â­â­ |
| **Netlify** | Frontend | 3 min | â­ |
| **Docker** | Local/VPS | 15 min | â­â­â­ |

### Deploy no Vercel (Frontend)
```bash
# 1. Instale a CLI do Vercel
npm i -g vercel

# 2. FaÃ§a o deploy
vercel

# 3. Configure as variÃ¡veis de ambiente no dashboard
```

### Deploy no Railway (Backend)
```bash
# 1. Conecte o repositÃ³rio no railway.app
# 2. Configure as variÃ¡veis de ambiente
# 3. Deploy automÃ¡tico via Git
```

### Docker (Completo)
```bash
# Execute todo o stack
docker-compose up -d

# Ou individual
docker build -t delta-navigator .
docker run -p 8080:8080 delta-navigator
```

## ğŸ”’ SeguranÃ§a

### ConfiguraÃ§Ãµes de SeguranÃ§a
- âœ… **VariÃ¡veis de ambiente** protegidas
- âœ… **Arquivo .env** no .gitignore
- âœ… **AutenticaÃ§Ã£o JWT** com Supabase
- âœ… **CORS** configurado adequadamente
- âœ… **ValidaÃ§Ã£o de dados** nas APIs

### VariÃ¡veis SensÃ­veis
```bash
# âš ï¸ NUNCA commite estes arquivos:
.env
.env.local
.env.production
server/.env
postgres-server/.env
```

### Backup de ConfiguraÃ§Ã£o
```bash
# Sempre mantenha exemplos das configuraÃ§Ãµes:
.env.example          # Frontend
server/.env.example   # SQL Server API
postgres-server/.env.example  # PostgreSQL API
```

## ğŸ“ Estrutura do Projeto

```
Delta-Navigator/
â”œâ”€â”€ ğŸ“ src/                    # Frontend React
â”‚   â”œâ”€â”€ ğŸ“ components/         # Componentes reutilizÃ¡veis
â”‚   â”œâ”€â”€ ğŸ“ pages/             # PÃ¡ginas principais
â”‚   â”œâ”€â”€ ğŸ“ hooks/             # Custom hooks
â”‚   â””â”€â”€ ğŸ“ data/              # ConfiguraÃ§Ãµes de API
â”œâ”€â”€ ğŸ“ postgres-server/        # API PostgreSQL
â”‚   â”œâ”€â”€ server.js             # Servidor Express
â”‚   â””â”€â”€ .env.example          # Template configuraÃ§Ã£o
â”œâ”€â”€ ğŸ“ server/                 # API SQL Server
â”‚   â”œâ”€â”€ server.js             # Servidor Express
â”‚   â””â”€â”€ .env.example          # Template configuraÃ§Ã£o
â”œâ”€â”€ ğŸ“ public/                 # Assets estÃ¡ticos
â”œâ”€â”€ package.json              # DependÃªncias frontend
â””â”€â”€ README.md                 # Este arquivo
```

## ğŸ¤ ContribuiÃ§Ã£o

### Como Contribuir
1. **Fork** o projeto
2. **Clone** seu fork
3. **Crie** uma branch para sua feature
4. **Commit** suas mudanÃ§as
5. **Push** para a branch
6. **Abra** um Pull Request

### PadrÃµes de Commit
```bash
feat: nova funcionalidade
fix: correÃ§Ã£o de bug
docs: atualizaÃ§Ã£o de documentaÃ§Ã£o
style: formataÃ§Ã£o de cÃ³digo
refactor: refatoraÃ§Ã£o
test: adiÃ§Ã£o de testes
```

## ğŸ“ Suporte

- **GitHub Issues**: Para bugs e feature requests
- **Documentation**: Veja os arquivos `.md` do projeto
- **Email**: Contato atravÃ©s do GitHub

---

**Desenvolvido com â¤ï¸ pela equipe Delta Global Dados**

*Sistema de anÃ¡lise de dados empresariais com tecnologias modernas e interface intuitiva.*

### ğŸš€ Novo Team: Delta-Global-Tech

**Bem-vindo ao novo time de desenvolvimento!**

- ğŸ‘¥ **Delta-Global-Tech** - Equipe tÃ©cnica dedicada
- ğŸ¯ Foco em inovaÃ§Ã£o e qualidade de cÃ³digo
- ğŸš€ Sempre trabalhando em melhorias
- ğŸ“ˆ Crescimento contÃ­nuo do projeto

---
